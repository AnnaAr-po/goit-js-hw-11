{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = `46857118-7428ce3c72e98dd3525ce7abc`;\n\nexport async function fetchImages(request = \"\", page = 1) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: request,\n        page,\n        image_type: photo,\n        orientation: horizontal,\n        safesearch: true\n    })\n    \n    return fetch(`${BASE_URL}?${params}`)\n        .then(response => {\n            if(!response.ok) {\n                throw new Error(`Failed to fetch images`)\n            }\n\n            return response.json();\n        })\n\n   .then((response) => {\n      if (response.hits.length === 0) {\n        throw new Error('Sorry, there are no images matching your search query. Please try again!');\n      }\n\n      return response.hits.map(hit => ({\n        webformatURL: hit.webformatURL,\n        largeImageURL: hit.largeImageURL,\n        tags: hit.tags,\n        likes: hit.likes,\n        views: hit.views,\n        comments: hit.comments,\n        downloads: hit.downloads,\n      }));\n    })\n    .catch((error) => {throw error});\n    \n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\n\nexport function renderGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = images.map(image =>\n        `<li> \n        <a href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        </a>\n        </li>`)\n        .join('');\n    \n    \n    if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n    } else {\n lightbox.refresh();\n    }\n   \n}","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction showLoader() {\n  loaderContainer.style.display = 'flex';\n}\n\nfunction hideLoader() {\n  loaderContainer.style.display = 'none';\n}\n\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    const request = event.currentTarget.elements.searchRequest.value.trim();\n    if (!request) {\n        iziToast.error({ title: 'Error', message: 'Try again' });\n        return;\n    }\n\n    showLoader();\n\n  fetchImages(request)\n    .then(images => {\n      renderGallery(gallery, images);\n      hideLoader();\n    })\n    .catch((error) => {\n      errorMessage(error.message);\n      hideLoader();\n    });\n    gallery.innerHTML = '';\n})"],"names":["BASE_URL","API_KEY","fetchImages","request","page","params","response","hit","error","lightbox","renderGallery","images","gallery","image","SimpleLightbox","showLoader","hideLoader","form","event","iziToast"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAYC,EAAU,GAAIC,EAAO,EAAG,CACtD,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKJ,EACL,EAAGE,EACH,KAAAC,EACA,WAAY,MACZ,YAAa,WACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGJ,CAAQ,IAAIK,CAAM,EAAE,EAC/B,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAM,wBAAwB,EAG5C,OAAOA,EAAS,MAC5B,CAAS,EAEL,KAAMA,GAAa,CACjB,GAAIA,EAAS,KAAK,SAAW,EAC3B,MAAM,IAAI,MAAM,0EAA0E,EAG5F,OAAOA,EAAS,KAAK,IAAIC,IAAQ,CAC/B,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,CACR,CAAK,EACA,MAAOC,GAAU,CAAC,MAAMA,CAAK,CAAC,CAEnC,CCpCA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GAC3B;AAAA,mBACWA,EAAM,aAAa;AAAA,oBAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,cAE5C,EACL,KAAK,EAAE,EAGPJ,EAGRA,EAAS,QAAO,EAFbA,EAAW,IAAIK,EAAe,YAAY,CAK9C,CCjBA,SAASC,GAAa,CACpB,gBAAgB,MAAM,QAAU,MAClC,CAEA,SAASC,GAAa,CACpB,gBAAgB,MAAM,QAAU,MAClC,CAGA,MAAMC,EAAO,SAAS,cAAc,cAAc,EACnC,SAAS,cAAc,SAAS,EAC/C,MAAML,EAAU,SAAS,cAAc,UAAU,EAEjDK,EAAK,iBAAiB,SAAU,MAAOC,GAAU,CAC7CA,EAAM,eAAc,EACpB,MAAMf,EAAUe,EAAM,cAAc,SAAS,cAAc,MAAM,OACjE,GAAI,CAACf,EAAS,CACVgB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,WAAW,CAAE,EACvD,MACH,CAEDJ,IAEFb,EAAYC,CAAO,EAChB,KAAKQ,GAAU,CACdD,EAAcE,CAAe,EAC7BI,GACN,CAAK,EACA,MAAOR,GAAU,CAChB,aAAaA,EAAM,OAAO,EAC1BQ,GACN,CAAK,EACDJ,EAAQ,UAAY,EACxB,CAAC"}