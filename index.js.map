{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = `46857118-7428ce3c72e98dd3525ce7abc`;\n\nfunction fetchImages(request, page = 1) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: request,\n    page,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  })\n    return fetch(`${BASE_URL}?${params}`)\n        .then(response => {\n            if(!response.ok) {\n                throw new Error('Failed to fetch images')\n            }\n\n            return response.json();\n        })\n\n.then((response) => {\n      if (response.hits.length === 0) {\n        throw new Error('Sorry, there are no images matching your search query. Please try again!');\n      }\n\n      return response.hits.map(hit => ({\n        webformatURL: hit.webformatURL,\n        largeImageURL: hit.largeImageURL,\n        tags: hit.tags,\n        likes: hit.likes,\n        views: hit.views,\n        comments: hit.comments,\n        downloads: hit.downloads,\n      }));\n    })\n    .catch((error) => {throw error});\n}\nexport { fetchImages };","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\n\nexport function renderGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = images.map(image =>\n        `<li>\n        <a href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        </a>\n        <div class=\"image-info\">\n                <span> ${image.likes}</span>\n                <span> ${image.comments}</span>\n                <span> ${image.views}</span>\n                <span> ${image.downloads}</span>\n</div>\n        </li>`)\n        .join('');\n    \n    \n    if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n    } else {\n lightbox.refresh();\n    }\n   \n}\n","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nfunction showLoader() {\n  loader.style.display = 'flex';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nform.addEventListener('submit', async (event) => {\n  event.preventDefault();\n  const request = event.currentTarget.elements.searchRequest.value.trim();\n  \n  if (request.length === 0) {\n    return;\n  }\n\n  showLoader();\n  gallery.innerHTML = '';\n  \n  fetchImages(request)\n    .then(images => {\n      renderGallery(gallery, images);\n      hideLoader();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search query',\n            position: 'topRight'\n      });\n      hideLoader();\n    })\n  \n})"],"names":["BASE_URL","API_KEY","fetchImages","request","page","params","response","hit","error","lightbox","renderGallery","images","gallery","image","SimpleLightbox","form","loader","showLoader","hideLoader","event","iziToast"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,SAASC,EAAYC,EAASC,EAAO,EAAG,CACtC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGE,EACH,KAAAC,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACC,OAAO,MAAM,GAAGJ,CAAQ,IAAIK,CAAM,EAAE,EAC/B,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAM,wBAAwB,EAG5C,OAAOA,EAAS,MAC5B,CAAS,EAER,KAAMA,GAAa,CACd,GAAIA,EAAS,KAAK,SAAW,EAC3B,MAAM,IAAI,MAAM,0EAA0E,EAG5F,OAAOA,EAAS,KAAK,IAAIC,IAAQ,CAC/B,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,CACR,CAAK,EACA,MAAOC,GAAU,CAAC,MAAMA,CAAK,CAAC,CACnC,CClCA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GAC3B;AAAA,mBACWA,EAAM,aAAa;AAAA,oBAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,yBAGjCA,EAAM,KAAK;AAAA,yBACXA,EAAM,QAAQ;AAAA,yBACdA,EAAM,KAAK;AAAA,yBACXA,EAAM,SAAS;AAAA;AAAA,cAE1B,EACL,KAAK,EAAE,EAGPJ,EAGRA,EAAS,QAAO,EAFbA,EAAW,IAAIK,EAAe,YAAY,CAK9C,CCrBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCJ,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASK,GAAa,CACpBD,EAAO,MAAM,QAAU,MACzB,CAEA,SAASE,GAAa,CACpBF,EAAO,MAAM,QAAU,MACzB,CAEAD,EAAK,iBAAiB,SAAU,MAAOI,GAAU,CAC/CA,EAAM,eAAc,EACpB,MAAMhB,EAAUgB,EAAM,cAAc,SAAS,cAAc,MAAM,OAE7DhB,EAAQ,SAAW,IAIvBc,IACAL,EAAQ,UAAY,GAEpBV,EAAYC,CAAO,EAChB,KAAKQ,GAAU,CACdD,EAAcE,CAAe,EAC7BM,GACN,CAAK,EACA,MAAMV,GAAS,CACdY,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACL,SAAU,UACtB,CAAO,EACDF,GACN,CAAK,EAEL,CAAC"}